<form [formGroup]="newFacetForm" (submit)="addFacet()">
  <mat-form-field>
    <mat-label>facet ID</mat-label>
    <input matInput [formControl]="newFacetId" />
    <mat-error
      *ngIf="
        newFacetId.errors?.required && (newFacetId.dirty || newFacetId.touched)
      "
      >ID required</mat-error
    >
    <mat-error
      *ngIf="
        newFacetId.errors?.maxLength && (newFacetId.dirty || newFacetId.touched)
      "
      >ID too long</mat-error
    >
    <mat-error
      *ngIf="
        newFacetId.errors?.pattern && (newFacetId.dirty || newFacetId.touched)
      "
      >invalid ID</mat-error
    >
  </mat-form-field>
  <button type="button" mat-flat-button color="primary" (click)="addFacet()">
    <mat-icon>add_circle</mat-icon>
    add facet
  </button>
</form>
<div *ngIf="facets">
  <!-- list -->
  <cadmus-facet-view
    *ngFor="let f of facets"
    [facet]="f"
    (viewPartInfo)="onViewPartInfo($event)"
    (facetChange)="onFacetChange($event)"
  ></cadmus-facet-view>

  <!-- info -->
  <cadmus-part-info [model]="currentModel" #info></cadmus-part-info>
</div>
