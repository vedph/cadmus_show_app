<div>
  <button mat-icon-button color="primary" (click)="addFlag()">
    <mat-icon>add_circle</mat-icon>
    add flag
  </button>
  <table *ngIf="flags">
    <tbody>
      <tr
        *ngFor="let f of flags; let i = index"
        [class.selected]="f === editedFlag"
      >
        <td>
          <button
            type="button"
            mat-icon-button
            color="primary"
            (click)="editFlag(f)"
          >
            <mat-icon>edit</mat-icon>
          </button>
          <button
            type="button"
            mat-icon-button
            color="warn"
            (click)="deleteFlag(i)"
          >
            <mat-icon>remove_circle</mat-icon>
          </button>
        </td>
        <td>
          <span [style.color]="'#' + f.colorKey">
            <mat-icon>flag</mat-icon>
          </span>
        </td>
        <td>{{ f.id | flagBit }}</td>
        <td [matTooltip]="f.description">
          {{ f.label }}
        </td>
      </tr>
    </tbody>
  </table>
  <mat-card *ngIf="editedFlag" [@inOutAnimation]>
    <mat-card-header>
      <mat-card-title>Flag</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <cadmus-flag-definition-editor
        [flag]="editedFlag"
        (editorClose)="onFlagEditorClose()"
        (flagChange)="onFlagChange($event)"
      ></cadmus-flag-definition-editor>
    </mat-card-content>
  </mat-card>
  <hr />
  <button
    type="button"
    mat-flat-button
    color="primary"
    matTooltip="Save flags"
    (click)="save()"
  >
    <mat-icon>save</mat-icon> save
  </button>
</div>
